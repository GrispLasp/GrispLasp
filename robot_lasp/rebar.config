{deps, [
 grisp,
 {lasp, {git,"https://github.com/lasp-lang/lasp"}},
 {epmd, {git, "https://github.com/erlang/epmd", {ref, "4d1a59"}}}
]}.

{erl_opts, [debug_info]}.

{grisp, [
    {otp, [
        {version, "20.2"}
    ]},
    {deploy, [
        {pre_script, "rm -rf /Volumes/GRISP/*"},
        {destination, "/Volumes/GRISP"}
        % {destination, "/Volumes/GRISP"},
        % {post_script, "diskutil unmount /Volumes/GRISP"}
    ]},
    {toolchain, [
      {root, "/Users/Laymer/GRISP/grisp-software/rtems-install/rtems-4.12"}
    ]}
]}.

{shell, [{apps, [lasp]}]}.

{relx, [
    {release, {robot, "0.1.0"}, [{epmd, none}, robot]}
]}.

% lasp_peer_service:join(#{name => 'lasp1@192.168.1.3', listen_addrs => [#{ip => {192,168,1,3}, port => 64221}]}).
% lasp_peer_service:join(#{name => 'lasp1@dan', listen_addrs => [#{ip => {192,168,1,3}, port => 65217}]}).
% lasp_peer_service:join(#{name => lasp1@dan, listen_addrs => [#{ip => {192,168,1,3}, port => 60499}]}).
% partisan_peer_service:join(Node)

% ok = rpc:call(Node, partisan_config, set,
%               [gossip_interval, ?GOSSIP_INTERVAL]),
%
% ok = rpc:call(Node, application, set_env, [partisan, peer_ip, ?PEER_IP]),
