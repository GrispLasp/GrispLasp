{deps, [
    grisp,
    {epmd, {git, "https://github.com/erlang/epmd", {ref, "4d1a59"}}},
    {lasp, {git, "https://github.com/lasp-lang/lasp.git", {branch, "master"}}},
    partisan,
    {lager, {git, "https://github.com/erlang-lager/lager.git", {branch, "master"}}},
    {flow, {elixir, "flow", "0.14.1"}},
    {gen_stage, {elixir, "gen_stage", "0.14.0"}},
    {numerix, {elixir, "numerix", "0.5.1"}}
]}.

{provider_hooks, [
  {pre, [{compile, {ex, compile}}]},
  {pre, [{release, {ex, compile}}]}
]}.

{dialyzer, [
            {warnings, [no_return, no_unused]},
            {get_warnings, false},
            {plt_apps, top_level_deps}]}.

{erl_opts, [debug_info,
    nowarn_unused_vars,
    % {i, "elixir_libs/computedge/deps/numerix/lib/"},
    {parse_transform, lager_transform}]}.

% See commit below for Elixir warning origin :
% https://github.com/elixir-lang/elixir/blob/f07f955659707e2b2a06e218d2cd2cbf94d9ff13/lib/elixir/lib/code/formatter.ex#L209

{grisp, [
    {otp, [
        {version, "21.0"}
    ]},
    {toolchain, [
      % {root, "/home/laymer/NewGRiSP/grisp-software/rtems-install/rtems/5"}
      % {root, "/Users/oxynad/Documents/thesis/newGRiSP/grisp-software/rtems-install/rtems/5"}
      {root, "/home/laymer/EdgeComputing/NewGRiSP/grisp-software/rtems-install/rtems/5"}
      % {root, "/media/alex/external1/grisp/grisp-software/rtems-install/rtems/5"}
    ]},
    {build, [
        {toolchain, [
          % {directory,"/home/laymer/NewGRiSP/grisp-software/rtems-install/rtems/5"}]}
          % {directory,"/home/laymer/EdgeComputing/NewGRiSP/grisp-software/rtems-install/rtems/5"}]} % Igor
          % {directory,"/Users/oxynad/Documents/thesis/newGRiSP/grisp-software/rtems-install/rtems/5"}]} % Dan
          % {directory,"/media/alex/external1/grisp/grisp-software/rtems-install/rtems/5"}]}
          {directory,"/home/laymer/EdgeComputing/NewGRiSP/grisp-software/rtems-install/rtems/5"}]}
    ]},
    {deploy, [
        {pre_script, "rm -rf /media/laymer/GRISP/*"}, % Igor
        {destination, "/media/laymer/GRISP"}, % Igor
        {post_script, "umount /media/laymer/GRISP"} % Igor
        % {pre_script, "rm -rf /Volumes/GRISP/*"}, % Dan
        % {destination, "/Volumes/GRISP"}, % Dan
        % {post_script, "diskutil unmount /Volumes/GRISP"} % Dan
    ]}
]}.

{shell, [{apps, []},
        {config, "config/sys.config"}]}.

% Wrapping a keyword in quotes does not make it a string.
% Keywords are always atoms and quotes should only be
% used to handle foreign characters.
% In fact, if you attempt use quotes when not necessary, Elixir will warn.
% see :
% https://hexdocs.pm/elixir/master/Keyword.html
{elixir_opts,
  [
    % {all_warnings, false},
    {env, dev}
  ]
}.

{relx, [
    {release, {node , "0.1.0"}, [
        % sasl,
        runtime_tools,
        {epmd, none},
        {lasp, load},
        node
    ]},
    {sys_config, "config/sys.config"},
    {extended_start_script, true}
]}.

{plugins, [
    % {erl_tidy_prv_fmt, ".*", {git, "git://github.com/tsloughter/erl_tidy.git", {branch, "master"}}},
    {rebar3_elixir_compile, ".*", {git, "https://github.com/barrel-db/rebar3_elixir_compile.git", {branch, "master"}}}
]}.

{fmt_opts, [
  {auto_list_comp, false},
  {keep_unused, true}
]}.
